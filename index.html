<!DOCTYPE html>
<html>
<head>
	<title>Badsyntax (Richard Willis) on Github</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" media="screen" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/themes/smoothness/jquery-ui.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/css/screen.css" />
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
	<script type="text/javascript" src="/js/widgets.js"></script>
	<script type="text/javascript" src="/js/github.js"></script>
	<!--[if IE]><script type="text/javascript" src="/js/html5.js"></script><![endif]-->
</head>
<body>
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-1636725-23']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>	

	<div id="github-ribbon">
		<a href="http://github.com/badsyntax">
			<img src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub" />
		</a>
	</div>

	<div id="wrapper" class="ui-helper-clearfix">

		<header>

			<h1>
				<a href="/">Richard Willis</a>
			</h1>

			<p>Welcome to my area on github.</p>

		</header>

		<nav class="ui-helper-clearfix">
			<ul class="helper-left">
				<li><a href="/" class="selected">Overview</a></li>
				<li><a href="projects.html">Projects</a></li>
				<li><a href="about.html">About</a></li>
				<li><a href="contact.html">Contact</a></li>
			</ul>
		</nav>
		
		<div id="activity">
			<section id="loader">
				<p>
					<img src="/img/ajax_load.gif" /> loading github data..
				</p>
			</section>
			<section id="repositories">
				<h2>Repositories</h2>
				<p>
					I currently have ${public_repo_count} public repositories on github, am following ${following_count} coders, 
					have ${followers_count} followers.
				</p>
			</section>
			<section id="commits">
				<a class="more-info" href="http://github.com/badsyntax">More info</a>
				<h2>Latest commits</h2>
				<div id="commits-scroll">
					<table>
						<tbody>
							<tr>
								<td class="col1">${committed_date_formatted}</td>
								<td class="col2">&nbsp;-&nbsp;<a href="">${repo}</a> - ${message}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</section>
		</div>
	</div>

	<script type="text/javascript">

		(function( $ ){

			var github = new window.github({ user: 'badsyntax' });

			github.getUserInfo(function(){

				github.getLatestCommits(function(){
					
					var commitstr = '', template = $('#commits-scroll tbody').children().clone();

					$('#commits-scroll tbody').empty();

					$.each(this.data.latestcommits, function(i){

						template
							.clone()
							.render( this )
							.find('a')
								.attr('href', this.url)
								.end()
							.appendTo( $('#commits-scroll table') )
					});

					$('#activity section').show();

					$('#repositories').render( this.data.userinfo );

					$('#commits-scroll').scrollbar().find('tr:odd').addClass('odd');
					
					$('#activity section:not(#loader)').hide();
					
					$('#loader').fadeOut('slow', function(){

						$('#activity section:not(#loader)').slideDown('slow');
					});
				});
			});

		})( jQuery );
	</script>
</body>
</html>
